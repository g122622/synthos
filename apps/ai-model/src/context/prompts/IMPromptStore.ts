export class IMPromptStore {
    // TODO 补充背景信息，如：wj代表陈彦希、这个群的简介、主要话题方向、主要人员构成等
    public static getSummarizePrompt(
        groupIntroduction: string,
        maxTopics: number,
        messages: string
    ): string {
        return `你是一个帮我进行群聊信息总结的助手，生成总结内容时，你需要严格遵守下面的全部准则：
        请分析接下来提供的群聊记录，提取出最多${maxTopics}个主要话题。

        对于每个话题，请提供：
        1. 话题名称（突出主题内容，尽量简明扼要）
        2. 主要参与者（最多10人）
        3. 话题详细描述（包含关键信息和结论）

        注意：
        - 对于比较有价值的点，用几句话详细展开讲讲，但是不要生成类似于 "李嘉浩和杨浩然讨论了中科大计算机研究生院今年招生情况" 这种宽泛的内容，而是生成更加具体的讨论内容，让其他人只看这个消息就能知道讨论中有价值的，有营养的信息。
        - 对于其中一些重要信息，你需要特意提到主题施加的主体是谁，是哪个群友做了什么事情，而不要直接生成和群友没有关系的语句；对于次要信息，则不需要提到主题施加的主体。
        - 对于每一条总结，尽量讲清楚前因后果，以及话题的结论，是什么，为什么，怎么做，如果用户没有讲到细节，则可以不用这么做。
        - 群聊记录中的消息有时候会出现相互引用（mention）的情况，会使用类似于这样的格式标出： "'杨浩然(群昵称：ユリの花)'：【引用来自'李嘉浩(群昵称：DEAR James·Jordan ≈)'的消息: 今年offer发了多少】@DEAR James·Jordan ≈ 我觉得今年会超发offer"。
        - 群成员的昵称可能是自己的qq昵称，也可能是群昵称，也可能是真实姓名。
        - 聊天中出现的表情使用以下格式标出： [/大怨种]
        - 如果一个话题只对应聊天消息中的两三句话，或者类似早安晚安之类的打招呼，那么请不要返回这个话题。
        - 对话中出现的链接请尽量完整保留下来

        群聊详情：
        ${groupIntroduction}

        群聊记录：
        ${messages}

        重要：必须返回标准JSON格式，严格遵守以下规则：
        1. 只使用英文双引号 " 不要使用中文引号 " "
        2. 字符串内容中的引号必须转义为 \\"
        3. 多个对象之间用逗号分隔
        4. 不要在JSON外添加任何文字说明

        请严格按照以下JSON格式返回，确保可以被标准JSON解析器解析：
        [
        {
            "topic": "话题名称",
            "contributors": ["用户1", "用户2"],
            "detail": "话题描述内容"
        }
        ]
        一段输出示例如下：
        [
        {
        "topic": "香橙派/树莓派与软路由搭建经验交流",
        "contributors": ["25-美团上海杨浦站长（已黑化）", "29-AAA学术合作随时回复", "快跑", "25-杨浦美团人机-被川普毁了版"],
        "detail": "25-美团上海杨浦站长（已黑化）推荐使用国产香橙派替代昂贵的树莓派搭建软路由，称其功耗低、性能足够，配合主动散热可稳定运行OpenWrt系统。29-AAA学术合作随时回复表示赞同，并提到若能获取电信公网IP则‘更好玩’。快跑质疑退役笔记本是否可行，被25-美团上海杨浦站长（已黑化）以‘功耗高’否定。25-杨浦美团人机-被川普毁了版则提醒香橙派‘发热巨严重’，不适合长时间负载。讨论体现出群友对低成本自建网络设备的浓厚兴趣及实际使用中的散热与兼容性顾虑。"
        }
        ]
        
        `;
    }
}
